<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Js asincrono</title>
</head>
<body>
    <button>VAI!</button>

    <script>
        const button=document.querySelector('button');
        button.addEventListener('click', ()=>{
            alert('you clicked me');
            
            let pelm=document.createElement('p');
            pelm.textContent='this is a newly-added paragrph';
            document.body.appendChild(pelm);
        });
        /*let response=fetch();
        let blob=response.blob();*/
        function loadAsset(url, type, callback){
            let xhr=new XMLHttpRequest();
            xhr.open('GET',url);
            xhr.responseType=type;

            xhr.onload=function(){
                callback(xhr.response);
            };
            xhr.send();
        }

        function displayImage(blob){
            let objectURL= URL.createObjectURL(blob);

            let image=document.createElement('img');
            image.src=objectURL;
            document.body.appendChild(image);
        }
        loadAsset('','blob',displayImage)

    </script>
</body>
</html>